# 系统简介

系统更新2.0 是支持手机之外的其他设备的通用OTA升级平台，提供打包编译流程、版本管理、日志管理、更新检查，应用鉴权、~~数据统计~~(开发中)等核心功能。

### 基础概念

**产品(Product)**：基本属性，例如玩具车1代，是静态资源中最大的一个概念。

**设备(Device)**：产品下面的一个设备，例如玩具车，包括了遥控器和遥控车控制板本身两种设备。

**模块(Module)**：设备下的具体模块，例如玩具车控制板包含了蓝牙模块，充电模块等。

**部署(Deployment)**：部署是一个抽象的概念，是一个发布模型的抽象集合，统一维护系统升级的业务逻辑，如匹配规则的制定，分组的管理等。一个设备只能对应一个部署，设备对于系统是静态资源，只有建立了部署，才能进行编译、发布等后续操作。

**分组(Group)**：分组是一个重要概念，我们的发布流程是基于向分组中添加版本来实现。一个部署可以有多个分组，至少有一个默认组。不同的业务方可以基于自己的实际需要，创建分组，如正式生产组、内测组等，每个组拥有自己的身份标识集合与版本列表。

**身份标识(Identity)**：在一个部署中，系统通过客户端上传的身份标识，判断属于哪个组，以此使用不同的版本策略，例如定义了一个内测组，选择以小米账号作为身份标识，在系统录入该账号，该账号登陆的设备即可请求到该内测组下的最新版本了。如果根据用户上传的数据没有匹配到任何一个组，则认为他属于默认组。

**版本(Version)**：版本是一次发布内容的集合，一个版本下可以有多个包文件，可以关联日志(发布内容说明)。版本有两种生成方式，编译(Build, 通过柯基平台)和手动上传。

**发布(Publish)**：一次发布操作，就是将生成的版本根据对应的业务情景添加到对应的组中的行为，单纯生成版本客户端是无法请求到的，必须把版本添加到组中，也就是执行发布操作。

**日志(Log)**：日志是更新内容的文字描述，与某一个版本关联即可生效，支持多语言。



### 概念图

![概念图](..\resource\img\概念图.jpg)

部署，分组等设置好了之后，发布一次新版本只需经过生成版本(编译或者手动上传)->填写日志(推荐)->发布 流程
![系统交互示意图](..\resource\img\整体架构图.jpg)
本系统提供了安卓版本的SDK，便于用户接入。SDK与服务端通过加密通道交互。
