# Spring核心思想IOC和AOP

## Spring IOC

* IOC(Inversion of Control)控制反转。它只是一个技术思想，不是一个技术实现。在传统的Java开发中，bean的创建和管理一直是一个让人头疼的问题。比如类A依赖于类B，通常会在类A中new一个B的对象。在Ioc思想下，可以不用自己去new对象，而是由Ioc容器去帮助我们实例化对象并且管理它。我们需要使用某个对象，去Ioc容器中要即可。在 Spring 中， IoC 容器是 Spring 用来实现 IoC 的载体， IoC 容器实际上就是个 Map（key，value），Map 中存放的是各种对象。

* 控制：指的是对象的创建（实例化、管理）的权利。
* 反转：控制权又交给外部环境了（Spring框架、Ioc容器）。

** IOC和DI的区别**

IOC和DI描述的是同一件事情（对象实例化及依赖关系维护这件事情），只不过角度不一样罢了。IOC是站在对象的角度，对象实例化及其管理的权利交给了（反转给了）容器；DI是站在容器的角度，容器会把对象依赖的其他对象注入（送进去），比如A对象实例化过程中因为声明了一个B类型的属性，那么就需要容器把B对象注入给A。

## Spring AOP

* 要说AOP，得先从OOP说起，OOP三大特征：封装，继承，多态。OOP是一种垂直纵向的继承体系，它可以解决大多数的代码重复问题，但是有一些情况是处理不了的，比如在一个顶级父类Animal中的多个方法中相同位置出现了**重复代码**，OOP就解决不了。比如需要对接口的性能监控，OOP的思想是需要在每处要监控的地方编写重复代码。
* 横切逻辑（简单来说，就是在业务代码之前，或者之后，或者环绕他们执行）

* 横切逻辑代码：在多个纵向（顺序）流程中出现的相同子流程代码，我们称之为横切逻辑代码。横切逻辑代码的使用场景很有限：一般是事务控制、权限校验和日志。

* 横切逻辑代码存在什么问题： 横切代码重复问题，横切逻辑代码和业务代码混杂在⼀起且代码臃肿，维护不⽅便。AOP独辟蹊径提出横向抽取机制，将横切逻辑代码和业务逻辑代码分离开来。

* 面向切面编程：「切」：指的是横切逻辑，原有业务逻辑代码我们不能动，只能操作横切逻辑代码，所以⾯向横切逻辑。「⾯」：横切逻辑代码往往要影响的是很多个⽅法，每⼀个⽅法都如同⼀个点，多个点构成⾯，有⼀个⾯的概念在⾥⾯。

* 





